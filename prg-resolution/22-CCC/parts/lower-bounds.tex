\begin{frame}{Restriction Technique}

    \alert{Size to width redution}

    \vspace{0.3cm}
    \pause
    $\pi \coloneqq (D_1, \dots, D_{\ell})$ is a Resolution proof of $\varphi$. $H \coloneqq \{C \in \pi
    \mid w(D) \ge w_0 \}$.

    \begin{enumerate}
        \item $\pi$ is small $\Rightarrow$ size of $H$ is small.
        \pause
        \item Pick the most frequent literal $x$ in $H$. \alert{$w_0 / (m \cdot 2^{2^{\Delta} + 1})$ fraction!} 
        \pause
        \item Set $x$ to $1$ in $\pi$. This operation kills all clauses that contain $x$.
        \pause
        \item $\pi \rest (x = 1)$ is still a proof of a restricted formula.
            \pause
        \item \only<-6>{\textcolor{blue}{Keep $\varphi \rest (x = 1)$ hard in terms of width.}}
            \only<7->{\textcolor{blue}{Try to avoid local contradictions in $\varphi \rest (x = 1)$.}}
        \pause
        \pause    
        \item Repeat while we have clauses of big width.
    \end{enumerate}

    \pause
    \vspace{0.3cm}
    \begin{minipage}{0.7\linewidth}
        \begin{itemize}
            \item We kill all clauses of big width.
            \item \onslide<10->{The remaining formula is still hard in terms of width.}
        \end{itemize}        
    \end{minipage}
    \begin{minipage}{0.25\linewidth}
        \centering
        \includegraphics[scale = 0.1]{pics/utia-blood.png}
    \end{minipage}
\end{frame}

\begin{frame}{``Functional'' Form}

    
    Width $\Rightarrow$ number of output bits \alert{mentioned} by a clause.

    \begin{itemize}
        \item $D \coloneqq (y^{c_1}_{g_1} \lor y^{c_2}_{g_2} \lor \dots \lor y^{c_{\ell}}_{g_{\ell}})$.
            \pause
        \item $B_i \subseteq D$ is a part of $D$ affiliated with $i$-th output bit.
            \pause
        \item $D = \bigvee\limits_{i \in [m]} B_i$.
            \pause
        \item This partition depends on graph.
            \pause
        \item This partition is \alert{not} unique.
    \end{itemize}
\end{frame}


\begin{frame}{Heavy Width}

    \begin{center}
        \includegraphics[scale = 0.12]{pics/utia-lift.png}        
    \end{center}

    \vspace{0.3cm}

    $i$-th bit is $\gamma$-mentioned $\Leftrightarrow \Pr\limits_{\rho \in P_i^{-1}(b)}[(B_i \rest \rho) = 1] \ge \gamma$.

    \begin{block}{$\gamma$-heavy width of a clause $D$}
        Number of $\gamma$-mentioned output bits.
    \end{block}

    \pause
    \vspace{-1.5cm}
    \begin{minipage}[t][4cm][t]{0.5\linewidth}
        It is bad measure!        
        \pause
        \vspace{0.2cm}

        \begin{itemize}
            \item $\mathrm{hw}(D) \stackrel{?}{\ge} \mathrm{hw}(D \rest \rho)$ \pause
                \hspace{0.4cm} \alert{NO}
            \item $w(D) \ge \mathrm{hw}(D)$
        \end{itemize}
    \end{minipage}
    \pause
    \begin{minipage}[c][4cm][c]{0.45\linewidth}
        \vspace{2cm}
        \centering
        \input{pics/hw-assign.tex}        
    \end{minipage}

\end{frame}


\begin{frame}{Self Reduction \hspace{0.2cm} \includegraphics[scale = 0.03]{pics/utia-blood.png}}

    $G$ is an $(r, \Delta, (1 - \varepsilon) \Delta)$-expander, $\gamma \coloneqq 2^{-\varepsilon \Delta}$,
    $\pi \coloneqq (D_1, \dots, D_{\ell})$ is a Resolution proof of $\varphi$.

    $H \coloneqq \{C \in \pi \mid \gamma^5\text{-}\mathrm{hw}(C) \ge w_0 \}$.

    \begin{enumerate}
        \item $\pi$ is small $\Rightarrow$ size of $H$ is small.
        \pause
        \item Pick the most frequent output bit $i$ in $H$. \alert{$w_0 / m$ fraction!}
        \pause
        \item Set \alert{neighbours} of $i$ uniformly at random on $P_i^{-1}(b_i)$. This
            operation kills \alert{$1 / \gamma^5$ fraction} of clauses that mention $i$.
        \pause
        \item $\pi \rest \rho$ is still a proof of a restricted formula.
        \pause
        \item \textcolor{blue}{Try to avoid local contradictions in $\varphi \rest \rho$.}
        \pause    
        \item Repeat while we have clauses of big \alert{heavy width}.
    \end{enumerate}

    \pause
    \vspace{0.3cm}
    We do NOT kill all clauses with large $\gamma^5\text{-}\mathrm{hw}$.

    \vspace{0.3cm}
    \pause
    \textcolor{blue}{Magical step}: in the end we have $(r, \Delta, (1 - 3 \varepsilon) \Delta)$-expander
    $\Rightarrow$ we kill all clauses with large $\gamma^2\text{-}\mathrm{hw}$.
\end{frame}